import{u as M,r as C,g as x,b as v,o,c as p,d as t,t as r,e as s,w as n,F as P,h as O,f as k,i as a,j as i,k as g,l as A,m as b,n as S,s as B,p as L,q as V,v as $}from"./index-d9b6abc2.js";import{g as R,A as c,f as Y}from"./activityTracker-6427563e.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const F={class:"dashboard-container"},G={class:"page-header"},J={class:"user-info"},j={class:"dashboard-content"},q={class:"card-header"},K={class:"card-icon"},W={class:"card-content"},H={class:"card-header"},Q={class:"card-icon"},X={class:"card-header"},Z={class:"card-icon"},tt={class:"card-content"},et={class:"card-header"},st={class:"card-icon"},at={class:"card-content"},nt={class:"recent-activities"},ot={key:0,class:"activity-list"},lt={class:"activity-icon"},dt={class:"activity-content"},rt={key:1,class:"empty-activities"},it={__name:"Dashboard",setup(ut){const D=M(),f=C((()=>{const u=localStorage.getItem("currentUser");if(u)try{return JSON.parse(u)}catch(e){return console.error("解析用户数据失败",e),{username:"游客",avatar:"G",role:"游客"}}else return{username:"游客",avatar:"G",role:"游客"}})()),_=C({mindmapCount:5,lastUpdate:"2023-06-15",materialsCount:12,viewCount:230,postCount:8,replyCount:27}),y=C([]),m=u=>{D.push(u)},T=()=>{h(50)},h=(u=10)=>{const e=f.value.username;y.value=R(e,u)};return x(()=>{h()}),(u,e)=>{const U=v("el-avatar"),l=v("el-icon"),E=v("Connection"),N=v("el-button"),w=v("el-empty");return o(),p("div",F,[t("div",G,[e[4]||(e[4]=t("h1",null,"仪表板",-1)),t("div",J,[t("span",null,r(f.value.username),1),s(U,{size:40,class:"avatar"},{default:n(()=>[k(r(f.value.avatar),1)]),_:1})])]),t("div",j,[t("div",{class:"dashboard-card mindmap-card",onClick:e[0]||(e[0]=d=>m("/mindmap"))},[t("div",q,[t("div",K,[s(l,null,{default:n(()=>[s(a(g))]),_:1})]),e[5]||(e[5]=t("h2",null,"思维导图",-1))]),t("div",W,[t("p",null,"已创建的思维导图: "+r(_.value.mindmapCount),1),t("p",null,"最近更新: "+r(_.value.lastUpdate),1)])]),t("div",{class:"dashboard-card tag-mindmap-card",onClick:e[1]||(e[1]=d=>m("/tag-mindmap"))},[t("div",H,[t("div",Q,[s(l,null,{default:n(()=>[s(E)]),_:1})]),e[6]||(e[6]=t("h2",null,"标签思维导图",-1))]),e[7]||(e[7]=t("div",{class:"card-content"},[t("p",null,"通过标签查找资料"),t("p",null,"可视化展示知识结构")],-1))]),t("div",{class:"dashboard-card materials-card",onClick:e[2]||(e[2]=d=>m("/materials"))},[t("div",X,[t("div",Z,[s(l,null,{default:n(()=>[s(a(A))]),_:1})]),e[8]||(e[8]=t("h2",null,"学习资料",-1))]),t("div",tt,[t("p",null,"上传的资料: "+r(_.value.materialsCount),1),t("p",null,"总浏览量: "+r(_.value.viewCount),1)])]),t("div",{class:"dashboard-card forum-card",onClick:e[3]||(e[3]=d=>m("/forum"))},[t("div",et,[t("div",st,[s(l,null,{default:n(()=>[s(a(b))]),_:1})]),e[9]||(e[9]=t("h2",null,"讨论交流",-1))]),t("div",at,[t("p",null,"发表的帖子: "+r(_.value.postCount),1),t("p",null,"收到的回复: "+r(_.value.replyCount),1)])])]),t("div",nt,[e[12]||(e[12]=t("h2",null,"最近活动",-1)),s(N,{class:"view-details",type:"primary",onClick:T},{default:n(()=>e[10]||(e[10]=[k("查看详情")])),_:1}),y.value.length>0?(o(),p("div",ot,[(o(!0),p(P,null,O(y.value,(d,I)=>(o(),p("div",{key:I,class:"activity-item"},[t("div",lt,[d.type===a(c).DOWNLOAD?(o(),i(l,{key:0},{default:n(()=>[s(a(S))]),_:1})):d.type===a(c).LIKE?(o(),i(l,{key:1},{default:n(()=>[s(a(B))]),_:1})):d.type===a(c).COMMENT?(o(),i(l,{key:2},{default:n(()=>[s(a(b))]),_:1})):d.type===a(c).POST?(o(),i(l,{key:3},{default:n(()=>[s(a(A))]),_:1})):d.type===a(c).REPLY?(o(),i(l,{key:4},{default:n(()=>[s(a(L))]),_:1})):d.type===a(c).CREATE_MINDMAP?(o(),i(l,{key:5},{default:n(()=>[s(a(g))]),_:1})):d.type===a(c).UPDATE_MINDMAP?(o(),i(l,{key:6},{default:n(()=>[s(a(V))]),_:1})):(o(),i(l,{key:7},{default:n(()=>[s(a($))]),_:1}))]),t("div",dt,[t("p",null,r(a(Y)(d)),1)])]))),128))])):(o(),p("div",rt,[s(w,{description:"暂无活动记录","image-size":100},{default:n(()=>e[11]||(e[11]=[t("p",null,"开始使用系统功能，这里将显示您的活动记录",-1)])),_:1})]))])])}}},mt=z(it,[["__scopeId","data-v-2a31dfee"]]);export{mt as default};
