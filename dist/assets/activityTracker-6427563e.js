const c={DOWNLOAD:"download",LIKE:"like",COMMENT:"comment",POST:"post",REPLY:"reply",CREATE_MINDMAP:"create_mindmap",UPDATE_MINDMAP:"update_mindmap"},o="user_activities",n=()=>{localStorage.getItem(o)||localStorage.setItem(o,JSON.stringify({}))},l=(r,s,t)=>{try{n();const e=JSON.parse(localStorage.getItem(o));e[r]||(e[r]=[]);const i={type:s,details:t,timestamp:new Date().toISOString()};return e[r].unshift(i),e[r].length>100&&(e[r]=e[r].slice(0,100)),localStorage.setItem(o,JSON.stringify(e)),!0}catch(e){return console.error("记录用户活动失败:",e),!1}},g=(r,s=20)=>{try{return n(),(JSON.parse(localStorage.getItem(o))[r]||[]).slice(0,s)}catch(t){return console.error("获取用户活动失败:",t),[]}},S=r=>{const{type:s,details:t,timestamp:e}=r,i=new Date(e),a=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")} ${String(i.getHours()).padStart(2,"0")}:${String(i.getMinutes()).padStart(2,"0")}`;switch(s){case c.DOWNLOAD:return`下载了资料 "${t.materialName}" (${a})`;case c.LIKE:return`点赞了资料 "${t.materialName}" (${a})`;case c.COMMENT:return`评论了资料 "${t.materialName}" (${a})`;case c.POST:return`发表了帖子 "${t.topicTitle}" (${a})`;case c.REPLY:return`回复了帖子 "${t.topicTitle}" (${a})`;case c.CREATE_MINDMAP:return`创建了思维导图 "${t.mindmapTitle}" (${a})`;case c.UPDATE_MINDMAP:return`更新了思维导图 "${t.mindmapTitle}" (${a})`;default:return`进行了未知活动 (${a})`}};export{c as A,S as f,g,l as r};
